from pathlib import Path
import numpy as np
import pysocialforce as psf


if __name__ == "__main__":
    # initial states, each entry is the position, velocity and goal of a pedestrian in the form of (px, py, vx, vy, gx, gy)
    initial_state = np.array(
        [
            [20, 20, 0.5, 0.5, 27, -1], # teste 1
            [80, 20, 0.5, 0.5, 27, -1], # teste 2 sala fechada
            [85, 55, 0.5, 0.5, 87, 48], # teste 3 sala fechada


            # [0.0, 10, -0.5, -0.5, 0.0, 0.0],
            # [0.5, 10, -0.5, -0.5, 0.5, 0.0],
            # [0.0, 0.0, 0.0, 0.5, 1.0, 10.0],

            # [1.0, 0.0, 0.0, 0.5, 2.0, 10.0],
            # [2.0, 0.0, 0.0, 0.5, 3.0, 10.0],
            # [3.0, 0.0, 0.0, 0.5, 4.0, 10.0],
        ]
    )
    # social groups informoation is represented as lists of indices of the state array
    # groups = [[1], [0], [2]]
    # groups = [ [0]]
    groups = None

    # list of linear obstacles given in the form of (x_min, x_max, y_min, y_max)
    # obs = [[-1, -1, -1, 11], [3, 3, -1, 11]]
    # obs = [[1, 2, 7, 8]]
    # obs = [[0.25, 3.25, 0.25, 1.25],
    #        [0.25, 0.25, 0.25, -4.25],
    #        [6.25, 6.25, 0.25, -6.25]
    #     ]
     
    obs =[
        [1, 17, 1, 1], [2, 17, 1, 1], [3, 17, 1, 1], [4, 17, 1, 1], [5, 17, 1, 1], [6, 17, 1, 1], [7, 17, 1, 1], [8, 17, 1, 1], [9, 17, 1, 1], [10, 17, 1, 1], [11, 17, 1, 1],
        [12, 17, 1, 1], [13, 17, 1, 1], [14, 17, 1, 1], [15, 17, 1, 1], [16, 17, 1, 1], [16, 17, 1, 1], [21, 25, 1, 1], [22, 25, 1, 1], [23, 25, 1, 1], [24, 25, 1, 1],
        [24, 25, 1, 1], [28, 30, 1, 1], [29, 30, 1, 1], [29, 30, 1, 1], [33, 52, 1, 1], [34, 52, 1, 1], [35, 52, 1, 1], [36, 52, 1, 1], [37, 52, 1, 1], [38, 52, 1, 1],
        [39, 52, 1, 1], [40, 52, 1, 1], [41, 52, 1, 1], [42, 52, 1, 1], [43, 52, 1, 1], [44, 52, 1, 1], [45, 52, 1, 1], [46, 52, 1, 1], [47, 52, 1, 1], [48, 52, 1, 1],
        [49, 52, 1, 1], [50, 52, 1, 1], [51, 52, 1, 1], [51, 52, 1, 1], [55, 57, 1, 1], [56, 57, 1, 1], [56, 57, 1, 1], [60, 65, 1, 1], [61, 65, 1, 1], [62, 65, 1, 1],
        [63, 65, 1, 1], [64, 65, 1, 1], [64, 65, 1, 1], [69, 86, 1, 1], [70, 86, 1, 1], [71, 86, 1, 1], [72, 86, 1, 1], [73, 86, 1, 1], [74, 86, 1, 1], [75, 86, 1, 1],
        [76, 86, 1, 1], [77, 86, 1, 1], [78, 86, 1, 1], [79, 86, 1, 1], [80, 86, 1, 1], [81, 86, 1, 1], [82, 86, 1, 1], [83, 86, 1, 1], [84, 86, 1, 1], [85, 86, 1, 1],
        [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1],
        [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [85, 86, 1, 1], [76, 81, 6, 6], [77, 81, 6, 6], [78, 81, 6, 6], [79, 81, 6, 6],
        [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6],
        [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6],
        [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [80, 81, 6, 6], [76, 86, 13, 13], [77, 86, 13, 13], [78, 86, 13, 13],
        [79, 86, 13, 13], [80, 86, 13, 13], [81, 86, 13, 13], [82, 86, 13, 13], [83, 86, 13, 13], [84, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13],
        [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13],
        [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13],
        [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13],
        [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13],
          [85, 86, 13, 13], [85, 86, 13, 13], [85, 86, 13, 13], [76, 86, 25, 25], [77, 86, 25, 25], [78, 86, 25, 25], [79, 86, 25, 25], [80, 86, 25, 25], [81, 86, 25, 25],
          [82, 86, 25, 25], [83, 86, 25, 25], [84, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25],
          [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25],
          [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25],
            [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25],
            [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25],
            [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25],
            [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25],
              [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [85, 86, 25, 25], [76, 82, 48, 48], [77, 82, 48, 48],
              [78, 82, 48, 48], [79, 82, 48, 48], [80, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48],
              [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48],
               [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [81, 82, 48, 48], [80, 86, 53, 53], [81, 86, 53, 53], [82, 86, 53, 53], [83, 86, 53, 53], [84, 86, 53, 53],
            [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53],
            [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [85, 86, 53, 53], [76, 86, 57, 57], [77, 86, 57, 57], [78, 86, 57, 57], [79, 86, 57, 57], [80, 86, 57, 57],
            [81, 86, 57, 57], [82, 86, 57, 57], [83, 86, 57, 57], [84, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57],
            [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57], [85, 86, 57, 57],
            [80, 86, 61, 61], [81, 86, 61, 61], [82, 86, 61, 61], [83, 86, 61, 61], [84, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61],
            [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61], [85, 86, 61, 61],
            [58, 76, 65, 65], [59, 76, 65, 65], [60, 76, 65, 65], [61, 76, 65, 65], [62, 76, 65, 65], [63, 76, 65, 65], [64, 76, 65, 65], [65, 76, 65, 65], [66, 76, 65, 65],
            [67, 76, 65, 65], [68, 76, 65, 65], [69, 76, 65, 65], [70, 76, 65, 65], [71, 76, 65, 65], [72, 76, 65, 65], [73, 76, 65, 65], [74, 76, 65, 65], [75, 76, 65, 65],
            [75, 76, 65, 65], [80, 86, 65, 65], [81, 86, 65, 65], [82, 86, 65, 65], [83, 86, 65, 65], [84, 86, 65, 65], [85, 86, 65, 65], [85, 86, 65, 65], [85, 86, 65, 65],
            [85, 86, 65, 65], [85, 86, 65, 65], [85, 86, 65, 65], [19, 52, 67, 67], [20, 52, 67, 67], [21, 52, 67, 67], [22, 52, 67, 67], [23, 52, 67, 67], [24, 52, 67, 67],
            [25, 52, 67, 67], [26, 52, 67, 67], [27, 52, 67, 67], [28, 52, 67, 67], [29, 52, 67, 67], [30, 52, 67, 67], [31, 52, 67, 67], [32, 52, 67, 67], [33, 52, 67, 67],
            [34, 52, 67, 67], [35, 52, 67, 67], [36, 52, 67, 67], [37, 52, 67, 67], [38, 52, 67, 67], [39, 52, 67, 67], [40, 52, 67, 67], [41, 52, 67, 67], [42, 52, 67, 67],
            [43, 52, 67, 67], [44, 52, 67, 67], [45, 52, 67, 67], [46, 52, 67, 67], [47, 52, 67, 67], [48, 52, 67, 67], [49, 52, 67, 67], [50, 52, 67, 67], [51, 52, 67, 67],
            [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67],
            [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [51, 52, 67, 67], [53, 58, 70, 70], [54, 58, 70, 70], [55, 58, 70, 70],
            [56, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70],
            [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [57, 58, 70, 70], [1, 12, 75, 75], [2, 12, 75, 75], [3, 12, 75, 75],
            [4, 12, 75, 75], [5, 12, 75, 75], [6, 12, 75, 75], [7, 12, 75, 75], [8, 12, 75, 75], [9, 12, 75, 75], [10, 12, 75, 75], [11, 12, 75, 75], [11, 12, 75, 75],
              [16, 86, 75, 75], [17, 86, 75, 75], [18, 86, 75, 75], [19, 86, 75, 75], [20, 86, 75, 75], [21, 86, 75, 75], [22, 86, 75, 75], [23, 86, 75, 75], [24, 86, 75, 75],
            [25, 86, 75, 75], [26, 86, 75, 75], [27, 86, 75, 75], [28, 86, 75, 75], [29, 86, 75, 75], [30, 86, 75, 75], [31, 86, 75, 75], [32, 86, 75, 75], [33, 86, 75, 75],
            [34, 86, 75, 75], [35, 86, 75, 75], [36, 86, 75, 75], [37, 86, 75, 75], [38, 86, 75, 75], [39, 86, 75, 75], [40, 86, 75, 75], [41, 86, 75, 75], [42, 86, 75, 75],
            [43, 86, 75, 75], [44, 86, 75, 75], [45, 86, 75, 75], [46, 86, 75, 75], [47, 86, 75, 75], [48, 86, 75, 75], [49, 86, 75, 75], [50, 86, 75, 75], [51, 86, 75, 75],
            [52, 86, 75, 75], [53, 86, 75, 75], [54, 86, 75, 75], [55, 86, 75, 75], [56, 86, 75, 75], [57, 86, 75, 75], [58, 86, 75, 75], [59, 86, 75, 75], [60, 86, 75, 75],
            [61, 86, 75, 75], [62, 86, 75, 75], [63, 86, 75, 75], [64, 86, 75, 75], [65, 86, 75, 75], [66, 86, 75, 75], [67, 86, 75, 75], [68, 86, 75, 75], [69, 86, 75, 75],
            [70, 86, 75, 75], [71, 86, 75, 75], [72, 86, 75, 75], [73, 86, 75, 75], [74, 86, 75, 75], [75, 86, 75, 75], [76, 86, 75, 75], [77, 86, 75, 75], [78, 86, 75, 75],
            [79, 86, 75, 75], [80, 86, 75, 75], [81, 86, 75, 75], [82, 86, 75, 75], [83, 86, 75, 75], [84, 86, 75, 75], [85, 86, 75, 75], [85, 86, 75, 75], [1, 1, 1, 75],
            [1, 1, 2, 75], [1, 1, 3, 75], [1, 1, 4, 75], [1, 1, 5, 75], [1, 1, 6, 75], [1, 1, 7, 75], [1, 1, 8, 75], [1, 1, 9, 75], [1, 1, 10, 75], [1, 1, 11, 75],
            [1, 1, 12, 75], [1, 1, 13, 75], [1, 1, 14, 75], [1, 1, 15, 75], [1, 1, 16, 75], [1, 1, 17, 75], [1, 1, 18, 75], [1, 1, 19, 75], [1, 1, 20, 75], [1, 1, 21, 75],
            [1, 1, 22, 75], [1, 1, 23, 75], [1, 1, 24, 75], [1, 1, 25, 75], [1, 1, 26, 75], [1, 1, 27, 75], [1, 1, 28, 75], [1, 1, 29, 75], [1, 1, 30, 75], [1, 1, 31, 75],
            [1, 1, 32, 75], [1, 1, 33, 75], [1, 1, 34, 75], [1, 1, 35, 75], [1, 1, 36, 75], [1, 1, 37, 75], [1, 1, 38, 75], [1, 1, 39, 75], [1, 1, 40, 75], [1, 1, 41, 75],
            [1, 1, 42, 75], [1, 1, 43, 75], [1, 1, 44, 75], [1, 1, 45, 75], [1, 1, 46, 75], [1, 1, 47, 75], [1, 1, 48, 75], [1, 1, 49, 75], [1, 1, 50, 75], [1, 1, 51, 75],
            [1, 1, 52, 75], [1, 1, 53, 75], [1, 1, 54, 75], [1, 1, 55, 75], [1, 1, 56, 75], [1, 1, 57, 75], [1, 1, 58, 75], [1, 1, 59, 75], [1, 1, 60, 75], [1, 1, 61, 75],
            [1, 1, 62, 75], [1, 1, 63, 75], [1, 1, 64, 75], [1, 1, 65, 75], [1, 1, 66, 75], [1, 1, 67, 75], [1, 1, 68, 75], [1, 1, 69, 75], [1, 1, 70, 75], [1, 1, 71, 75],
         [1, 1, 72, 75], [1, 1, 73, 75], [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75],
         [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75], [1, 1, 74, 75], [12, 12, 34, 50], [12, 12, 35, 50], [12, 12, 36, 50], [12, 12, 37, 50], [12, 12, 38, 50],
         [12, 12, 39, 50], [12, 12, 40, 50], [12, 12, 41, 50], [12, 12, 42, 50], [12, 12, 43, 50], [12, 12, 44, 50], [12, 12, 45, 50], [12, 12, 46, 50], [12, 12, 47, 50],
         [12, 12, 48, 50], [12, 12, 49, 50], [12, 12, 49, 50], [12, 12, 49, 50], [12, 12, 49, 50], [12, 12, 49, 50], [12, 12, 49, 50], [12, 12, 49, 50], [19, 19, 67, 75],
         [19, 19, 68, 75], [19, 19, 69, 75], [19, 19, 70, 75], [19, 19, 71, 75], [19, 19, 72, 75], [19, 19, 73, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75],
         [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75],
         [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75],
         [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75],
         [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75], [19, 19, 74, 75],
         [41, 41, 67, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69],
         [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69], [41, 41, 68, 69],
         [49, 49, 67, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69],
         [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [49, 49, 68, 69], [58, 58, 65, 70],
         [58, 58, 66, 70], [58, 58, 67, 70], [58, 58, 68, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70],
         [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70],
         [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70], [58, 58, 69, 70],
         [58, 58, 69, 70], [72, 72, 6, 21], [72, 72, 7, 21], [72, 72, 8, 21], [72, 72, 9, 21], [72, 72, 10, 21], [72, 72, 11, 21], [72, 72, 12, 21], [72, 72, 13, 21],
         [72, 72, 14, 21], [72, 72, 15, 21], [72, 72, 16, 21], [72, 72, 17, 21], [72, 72, 18, 21], [72, 72, 19, 21], [72, 72, 20, 21], [72, 72, 20, 21], [72, 72, 20, 21],
         [72, 72, 20, 21], [72, 72, 20, 21], [72, 72, 20, 21], [72, 72, 20, 21], [72, 72, 20, 21], [72, 72, 20, 21], [72, 72, 20, 21], [76, 76, 5, 10], [76, 76, 6, 10],
         [76, 76, 7, 10], [76, 76, 8, 10], [76, 76, 9, 10], [76, 76, 9, 10], [76, 76, 9, 10], [76, 76, 16, 25], [76, 76, 17, 25], [76, 76, 18, 25], [76, 76, 19, 25],
         [76, 76, 20, 25], [76, 76, 21, 25], [76, 76, 22, 25], [76, 76, 23, 25], [76, 76, 24, 25], [76, 76, 24, 25], [76, 76, 48, 65], [76, 76, 49, 65], [76, 76, 50, 65],
         [76, 76, 51, 65], [76, 76, 52, 65], [76, 76, 53, 65], [76, 76, 54, 65], [76, 76, 55, 65], [76, 76, 56, 65], [76, 76, 57, 65], [76, 76, 58, 65], [76, 76, 59, 65],
         [76, 76, 60, 65], [76, 76, 61, 65], [76, 76, 62, 65], [76, 76, 63, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65],
         [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65],
         [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65],
         [76, 76, 64, 65], [76, 76, 64, 65], [76, 76, 64, 65], [80, 80, 56, 57], [80, 80, 56, 57], [80, 80, 60, 62], [80, 80, 61, 62], [80, 80, 61, 62], [80, 80, 61, 62],
         [81, 81, 1, 6], [81, 81, 2, 6], [81, 81, 3, 6], [81, 81, 4, 6], [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6],
         [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6], [81, 81, 5, 6], [82, 82, 40, 48], [82, 82, 41, 48], [82, 82, 42, 48], [82, 82, 43, 48],
           [82, 82, 44, 48], [82, 82, 45, 48], [82, 82, 46, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48],
           [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48],
           [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48],
           [82, 82, 47, 48], [82, 82, 47, 48], [82, 82, 47, 48], [86, 86, 1, 44], [86, 86, 2, 44], [86, 86, 3, 44], [86, 86, 4, 44], [86, 86, 5, 44], [86, 86, 6, 44],
           [86, 86, 7, 44], [86, 86, 8, 44], [86, 86, 9, 44], [86, 86, 10, 44], [86, 86, 11, 44], [86, 86, 12, 44], [86, 86, 13, 44], [86, 86, 14, 44], [86, 86, 15, 44],
           [86, 86, 16, 44], [86, 86, 17, 44], [86, 86, 18, 44], [86, 86, 19, 44], [86, 86, 20, 44], [86, 86, 21, 44], [86, 86, 22, 44], [86, 86, 23, 44], [86, 86, 24, 44],
           [86, 86, 25, 44], [86, 86, 26, 44], [86, 86, 27, 44], [86, 86, 28, 44], [86, 86, 29, 44], [86, 86, 30, 44], [86, 86, 31, 44], [86, 86, 32, 44], [86, 86, 33, 44],
           [86, 86, 34, 44], [86, 86, 35, 44], [86, 86, 36, 44], [86, 86, 37, 44], [86, 86, 38, 44], [86, 86, 39, 44], [86, 86, 40, 44], [86, 86, 41, 44], [86, 86, 42, 44],
           [86, 86, 43, 44], [86, 86, 43, 44], [86, 86, 48, 67], [86, 86, 49, 67], [86, 86, 50, 67], [86, 86, 51, 67], [86, 86, 52, 67], [86, 86, 53, 67], [86, 86, 54, 67],
           [86, 86, 55, 67], [86, 86, 56, 67], [86, 86, 57, 67], [86, 86, 58, 67], [86, 86, 59, 67], [86, 86, 60, 67], [86, 86, 61, 67], [86, 86, 62, 67], [86, 86, 63, 67],
           [86, 86, 64, 67], [86, 86, 65, 67], [86, 86, 66, 67], [86, 86, 66, 67], [86, 86, 71, 75], [86, 86, 72, 75], [86, 86, 73, 75], [86, 86, 74, 75]
]


    # obs = None
    # initiate the simulator,
    s = psf.Simulator(
        initial_state,
        groups=groups,
        obstacles=obs,
        config_file=Path(__file__).resolve().parent.joinpath("example.toml"),
    )
    # update 80 steps
    passos = 100
    s.step(passos)

    with psf.plot.SceneVisualizer(s, r"/home/juan/√Årea de Trabalho/TCC/forca_social/PySocialForce/examples") as sv:
        sv.ax.set_xlim(-1,90)
        sv.ax.set_ylim(-1,77)
        sv.animate()
        # aux = s.get_states()
        # s.get_states()
        s.fim_movimento_peds(passos)
        # sv.plot()
